<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AWS Demo Kit: Task Definition</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AWS Demo Kit
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Task Definition</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac529104ebcd30f72c74970089e6a284e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___client.html#gac529104ebcd30f72c74970089e6a284e">aws_client_mqtt_packet_id</a> (void)</td></tr>
<tr class="memdesc:gac529104ebcd30f72c74970089e6a284e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns packet ID.  <a href="#gac529104ebcd30f72c74970089e6a284e">More...</a><br /></td></tr>
<tr class="separator:gac529104ebcd30f72c74970089e6a284e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga76ee007926e678e8abb9c47885b3df3a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___client.html#ga76ee007926e678e8abb9c47885b3df3a">aws_client_scan_button</a> (<a class="el" href="group___a_w_s.html#ga7ebf27c3fb1fb1f1efe5d7a0c72761ad">t_aws_kit</a> *kit)</td></tr>
<tr class="memdesc:ga76ee007926e678e8abb9c47885b3df3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a button is pressed or not.  <a href="#ga76ee007926e678e8abb9c47885b3df3a">More...</a><br /></td></tr>
<tr class="separator:ga76ee007926e678e8abb9c47885b3df3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae92b41c0188881e52fe98f7d49aea80f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___client.html#gae92b41c0188881e52fe98f7d49aea80f">aws_client_mqtt_msg_cb</a> (MqttClient *mqttCli, MqttMessage *msg, uint8_t new, uint8_t done)</td></tr>
<tr class="memdesc:gae92b41c0188881e52fe98f7d49aea80f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribe the Delta topic if a difference is detected between the Reported and Desired sections of a Thing shadow. aws_client_mqtt_msg_cb will be called, if there is a difference.  <a href="#gae92b41c0188881e52fe98f7d49aea80f">More...</a><br /></td></tr>
<tr class="separator:gae92b41c0188881e52fe98f7d49aea80f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae589fbe24e684fc1d21be325c1f94ea5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___client.html#gae589fbe24e684fc1d21be325c1f94ea5">aws_client_tls_cb</a> (MqttClient *mqttCli)</td></tr>
<tr class="memdesc:gae589fbe24e684fc1d21be325c1f94ea5"><td class="mdescLeft">&#160;</td><td class="mdescRight">AWS IoT authenticates Things using X.509 certificates. In addition to it, all traffic to and from AWS IoT MUST be encrypted over Transport Layer Security(TLS). So the WolfSSL library is responsible for the TLS layer.  <a href="#gae589fbe24e684fc1d21be325c1f94ea5">More...</a><br /></td></tr>
<tr class="separator:gae589fbe24e684fc1d21be325c1f94ea5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga756a3b06de41ba1bb65b34684e8ecf54"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___client.html#ga756a3b06de41ba1bb65b34684e8ecf54">aws_client_mqtt_disconnect</a> (<a class="el" href="group___a_w_s.html#ga7ebf27c3fb1fb1f1efe5d7a0c72761ad">t_aws_kit</a> *kit)</td></tr>
<tr class="memdesc:ga756a3b06de41ba1bb65b34684e8ecf54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send disconnection MQTT packet.  <a href="#ga756a3b06de41ba1bb65b34684e8ecf54">More...</a><br /></td></tr>
<tr class="separator:ga756a3b06de41ba1bb65b34684e8ecf54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab3d79b09e40636300e64ad322ae1203d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___client.html#gab3d79b09e40636300e64ad322ae1203d">aws_client_init_mqtt_client</a> (<a class="el" href="group___a_w_s.html#ga7ebf27c3fb1fb1f1efe5d7a0c72761ad">t_aws_kit</a> *kit)</td></tr>
<tr class="memdesc:gab3d79b09e40636300e64ad322ae1203d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initializes WolfMQTT client, and tries to connect to destination address depending on a user AWS account. The host address should be installed in ATECC508A through Insight GUI.  <a href="#gab3d79b09e40636300e64ad322ae1203d">More...</a><br /></td></tr>
<tr class="separator:gab3d79b09e40636300e64ad322ae1203d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9bf67404b5bec30b4046188c574b6a84"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___client.html#ga9bf67404b5bec30b4046188c574b6a84">aws_client_mqtt_subscribe</a> (<a class="el" href="group___a_w_s.html#ga7ebf27c3fb1fb1f1efe5d7a0c72761ad">t_aws_kit</a> *kit)</td></tr>
<tr class="memdesc:ga9bf67404b5bec30b4046188c574b6a84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribe the Delta topic if a difference is detected between the Reported and Desired sections of a Thing shadow. aws_client_mqtt_msg_cb will be called, if there is a difference.  <a href="#ga9bf67404b5bec30b4046188c574b6a84">More...</a><br /></td></tr>
<tr class="separator:ga9bf67404b5bec30b4046188c574b6a84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaae10b9e14b2c0492e014a0b190b91ca9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___client.html#gaae10b9e14b2c0492e014a0b190b91ca9">aws_client_mqtt_publish</a> (<a class="el" href="group___a_w_s.html#ga7ebf27c3fb1fb1f1efe5d7a0c72761ad">t_aws_kit</a> *kit)</td></tr>
<tr class="memdesc:gaae10b9e14b2c0492e014a0b190b91ca9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send Thing's current state to the Thing Shadow service by sending an MQTT message to the Update topic. Insight GUI also will subscribe the Delta topic to synchronize Thing Shadow with Thing.  <a href="#gaae10b9e14b2c0492e014a0b190b91ca9">More...</a><br /></td></tr>
<tr class="separator:gaae10b9e14b2c0492e014a0b190b91ca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa9271e75333e074f8bef036d7d72ffec"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___client.html#gaa9271e75333e074f8bef036d7d72ffec">aws_client_mqtt_wait_msg</a> (<a class="el" href="group___a_w_s.html#ga7ebf27c3fb1fb1f1efe5d7a0c72761ad">t_aws_kit</a> *kit)</td></tr>
<tr class="memdesc:gaa9271e75333e074f8bef036d7d72ffec"><td class="mdescLeft">&#160;</td><td class="mdescRight">If a user makes change LEDs state using Insight GUI, it will send the Update topic to AWS broker. Then AWS IoT also will send the Delta topic for Thing to read it.  <a href="#gaa9271e75333e074f8bef036d7d72ffec">More...</a><br /></td></tr>
<tr class="separator:gaa9271e75333e074f8bef036d7d72ffec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad3f7437789ea57977c47957f292a4ca2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___client.html#gad3f7437789ea57977c47957f292a4ca2">aws_client_state_machine</a> (<a class="el" href="group___a_w_s.html#ga7ebf27c3fb1fb1f1efe5d7a0c72761ad">t_aws_kit</a> *kit)</td></tr>
<tr class="memdesc:gad3f7437789ea57977c47957f292a4ca2"><td class="mdescLeft">&#160;</td><td class="mdescRight">State machine for AWS MQTT client.  <a href="#gad3f7437789ea57977c47957f292a4ca2">More...</a><br /></td></tr>
<tr class="separator:gad3f7437789ea57977c47957f292a4ca2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf8ddb437ec3069ff55d9b6fe23461da9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___client.html#gaf8ddb437ec3069ff55d9b6fe23461da9">aws_client_task</a> (void *params)</td></tr>
<tr class="memdesc:gaf8ddb437ec3069ff55d9b6fe23461da9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This Client task runs MQTT client application based on WolfMQTT library under SSL/TLS library which is WolfSSL. Before getting start this task, ATECC508 should be provisioned for certificate assignment to WolfSSL library. This task is basically to implement the AWS JITR feature.(Just In Time Registation.) Each connected device needs a credential to access the Thing Shadow service. All traffic to and from AWS IoT MUST be kept safe in order to send data securely to the message broker.  <a href="#gaf8ddb437ec3069ff55d9b6fe23461da9">More...</a><br /></td></tr>
<tr class="separator:gaf8ddb437ec3069ff55d9b6fe23461da9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Main Task configuration</h2></td></tr>
<tr class="memitem:gaeb68af4d5008ef864d87eb6504b625cd"><td class="memItemLeft" align="right" valign="top"><a id="gaeb68af4d5008ef864d87eb6504b625cd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AWS_CLIENT_TASK_PRIORITY</b>&#160;&#160;&#160;(tskIDLE_PRIORITY + 2)</td></tr>
<tr class="separator:gaeb68af4d5008ef864d87eb6504b625cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f34e7946620b83214050926e31e47b5"><td class="memItemLeft" align="right" valign="top"><a id="ga1f34e7946620b83214050926e31e47b5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AWS_CLIENT_TASK_DELAY</b>&#160;&#160;&#160;(100 / portTICK_RATE_MS)</td></tr>
<tr class="separator:ga1f34e7946620b83214050926e31e47b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga26442c30b82bd3a4a1d2c8c4c714f05b"><td class="memItemLeft" align="right" valign="top"><a id="ga26442c30b82bd3a4a1d2c8c4c714f05b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AWS_CLIENT_TASK_STACK_SIZE</b>&#160;&#160;&#160;(4096)</td></tr>
<tr class="separator:ga26442c30b82bd3a4a1d2c8c4c714f05b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Definition for timer interval of MQTT subscriber, MQTT message max length</h2></td></tr>
<tr class="memitem:ga4583b206c813dcb444b55caa325446eb"><td class="memItemLeft" align="right" valign="top"><a id="ga4583b206c813dcb444b55caa325446eb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AWS_MQTT_CMD_TIMEOUT_MS</b>&#160;&#160;&#160;(2000)</td></tr>
<tr class="separator:ga4583b206c813dcb444b55caa325446eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8657b3610d007b551f94bd800053f242"><td class="memItemLeft" align="right" valign="top"><a id="ga8657b3610d007b551f94bd800053f242"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>AWS_MQTT_PAYLOAD_MAX</b>&#160;&#160;&#160;(128)</td></tr>
<tr class="separator:ga8657b3610d007b551f94bd800053f242"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="gab3d79b09e40636300e64ad322ae1203d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab3d79b09e40636300e64ad322ae1203d">&sect;&nbsp;</a></span>aws_client_init_mqtt_client()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int aws_client_init_mqtt_client </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_w_s.html#ga7ebf27c3fb1fb1f1efe5d7a0c72761ad">t_aws_kit</a> *&#160;</td>
          <td class="paramname"><em>kit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function initializes WolfMQTT client, and tries to connect to destination address depending on a user AWS account. The host address should be installed in ATECC508A through Insight GUI. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kit[inout]</td><td>Pointer to an instance of AWS Kit </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>AWS_E_SUCCESS On success </dd></dl>

<p>Definition at line <a class="el" href="aws__client__task_8c_source.html#l00316">316</a> of file <a class="el" href="aws__client__task_8c_source.html">aws_client_task.c</a>.</p>

</div>
</div>
<a id="ga756a3b06de41ba1bb65b34684e8ecf54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga756a3b06de41ba1bb65b34684e8ecf54">&sect;&nbsp;</a></span>aws_client_mqtt_disconnect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int aws_client_mqtt_disconnect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_w_s.html#ga7ebf27c3fb1fb1f1efe5d7a0c72761ad">t_aws_kit</a> *&#160;</td>
          <td class="paramname"><em>kit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send disconnection MQTT packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kit[inout]</td><td>Pointer to an instance of AWS Kit </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>AWS_E_SUCCESS On success </dd></dl>

<p>Definition at line <a class="el" href="aws__client__task_8c_source.html#l00251">251</a> of file <a class="el" href="aws__client__task_8c_source.html">aws_client_task.c</a>.</p>

</div>
</div>
<a id="gae92b41c0188881e52fe98f7d49aea80f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae92b41c0188881e52fe98f7d49aea80f">&sect;&nbsp;</a></span>aws_client_mqtt_msg_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int aws_client_mqtt_msg_cb </td>
          <td>(</td>
          <td class="paramtype">MqttClient *&#160;</td>
          <td class="paramname"><em>mqttCli</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MqttMessage *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>done</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subscribe the Delta topic if a difference is detected between the Reported and Desired sections of a Thing shadow. aws_client_mqtt_msg_cb will be called, if there is a difference. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kit[in]</td><td>Pointer to an instance of AWS Kit </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>AWS_E_SUCCESS On success </dd></dl>

<p>Definition at line <a class="el" href="aws__client__task_8c_source.html#l00088">88</a> of file <a class="el" href="aws__client__task_8c_source.html">aws_client_task.c</a>.</p>

</div>
</div>
<a id="gac529104ebcd30f72c74970089e6a284e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac529104ebcd30f72c74970089e6a284e">&sect;&nbsp;</a></span>aws_client_mqtt_packet_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int aws_client_mqtt_packet_id </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns packet ID. </p>
<dl class="section return"><dt>Returns</dt><dd>mPacketIdLast </dd></dl>

<p>Definition at line <a class="el" href="aws__client__task_8c_source.html#l00061">61</a> of file <a class="el" href="aws__client__task_8c_source.html">aws_client_task.c</a>.</p>

</div>
</div>
<a id="gaae10b9e14b2c0492e014a0b190b91ca9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaae10b9e14b2c0492e014a0b190b91ca9">&sect;&nbsp;</a></span>aws_client_mqtt_publish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int aws_client_mqtt_publish </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_w_s.html#ga7ebf27c3fb1fb1f1efe5d7a0c72761ad">t_aws_kit</a> *&#160;</td>
          <td class="paramname"><em>kit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send Thing's current state to the Thing Shadow service by sending an MQTT message to the Update topic. Insight GUI also will subscribe the Delta topic to synchronize Thing Shadow with Thing. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kit[in]</td><td>Pointer to an instance of AWS Kit </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>AWS_E_SUCCESS On success </dd></dl>

<p>Definition at line <a class="el" href="aws__client__task_8c_source.html#l00423">423</a> of file <a class="el" href="aws__client__task_8c_source.html">aws_client_task.c</a>.</p>

</div>
</div>
<a id="ga9bf67404b5bec30b4046188c574b6a84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9bf67404b5bec30b4046188c574b6a84">&sect;&nbsp;</a></span>aws_client_mqtt_subscribe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int aws_client_mqtt_subscribe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_w_s.html#ga7ebf27c3fb1fb1f1efe5d7a0c72761ad">t_aws_kit</a> *&#160;</td>
          <td class="paramname"><em>kit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subscribe the Delta topic if a difference is detected between the Reported and Desired sections of a Thing shadow. aws_client_mqtt_msg_cb will be called, if there is a difference. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kit[in]</td><td>Pointer to an instance of AWS Kit </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>AWS_E_SUCCESS On success </dd></dl>

<p>Definition at line <a class="el" href="aws__client__task_8c_source.html#l00393">393</a> of file <a class="el" href="aws__client__task_8c_source.html">aws_client_task.c</a>.</p>

</div>
</div>
<a id="gaa9271e75333e074f8bef036d7d72ffec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa9271e75333e074f8bef036d7d72ffec">&sect;&nbsp;</a></span>aws_client_mqtt_wait_msg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int aws_client_mqtt_wait_msg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_w_s.html#ga7ebf27c3fb1fb1f1efe5d7a0c72761ad">t_aws_kit</a> *&#160;</td>
          <td class="paramname"><em>kit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If a user makes change LEDs state using Insight GUI, it will send the Update topic to AWS broker. Then AWS IoT also will send the Delta topic for Thing to read it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kit[inout]</td><td>Pointer to an instance of AWS Kit </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>AWS_E_SUCCESS On success </dd></dl>

<p>Definition at line <a class="el" href="aws__client__task_8c_source.html#l00477">477</a> of file <a class="el" href="aws__client__task_8c_source.html">aws_client_task.c</a>.</p>

</div>
</div>
<a id="ga76ee007926e678e8abb9c47885b3df3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga76ee007926e678e8abb9c47885b3df3a">&sect;&nbsp;</a></span>aws_client_scan_button()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool aws_client_scan_button </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_w_s.html#ga7ebf27c3fb1fb1f1efe5d7a0c72761ad">t_aws_kit</a> *&#160;</td>
          <td class="paramname"><em>kit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if a button is pressed or not. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kit[in]</td><td>Pointer to an instance of AWS Kit </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE On pressed state </dd></dl>

<p>Definition at line <a class="el" href="aws__client__task_8c_source.html#l00075">75</a> of file <a class="el" href="aws__client__task_8c_source.html">aws_client_task.c</a>.</p>

</div>
</div>
<a id="gad3f7437789ea57977c47957f292a4ca2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad3f7437789ea57977c47957f292a4ca2">&sect;&nbsp;</a></span>aws_client_state_machine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aws_client_state_machine </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___a_w_s.html#ga7ebf27c3fb1fb1f1efe5d7a0c72761ad">t_aws_kit</a> *&#160;</td>
          <td class="paramname"><em>kit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>State machine for AWS MQTT client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kit[inout]</td><td>Pointer to an instance of AWS Kit </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>AWS_E_SUCCESS On success </dd></dl>

<p>Definition at line <a class="el" href="aws__client__task_8c_source.html#l00561">561</a> of file <a class="el" href="aws__client__task_8c_source.html">aws_client_task.c</a>.</p>

</div>
</div>
<a id="gaf8ddb437ec3069ff55d9b6fe23461da9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf8ddb437ec3069ff55d9b6fe23461da9">&sect;&nbsp;</a></span>aws_client_task()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aws_client_task </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This Client task runs MQTT client application based on WolfMQTT library under SSL/TLS library which is WolfSSL. Before getting start this task, ATECC508 should be provisioned for certificate assignment to WolfSSL library. This task is basically to implement the AWS JITR feature.(Just In Time Registation.) Each connected device needs a credential to access the Thing Shadow service. All traffic to and from AWS IoT MUST be kept safe in order to send data securely to the message broker. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">params</td><td>Parameters for the task (Not used.) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="aws__client__task_8c_source.html#l00698">698</a> of file <a class="el" href="aws__client__task_8c_source.html">aws_client_task.c</a>.</p>

</div>
</div>
<a id="gae589fbe24e684fc1d21be325c1f94ea5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae589fbe24e684fc1d21be325c1f94ea5">&sect;&nbsp;</a></span>aws_client_tls_cb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int aws_client_tls_cb </td>
          <td>(</td>
          <td class="paramtype">MqttClient *&#160;</td>
          <td class="paramname"><em>mqttCli</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>AWS IoT authenticates Things using X.509 certificates. In addition to it, all traffic to and from AWS IoT MUST be encrypted over Transport Layer Security(TLS). So the WolfSSL library is responsible for the TLS layer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kit[in]</td><td>Pointer to an instance of AWS Kit </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>AWS_E_SUCCESS On success </dd></dl>

<p>Definition at line <a class="el" href="aws__client__task_8c_source.html#l00174">174</a> of file <a class="el" href="aws__client__task_8c_source.html">aws_client_task.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
