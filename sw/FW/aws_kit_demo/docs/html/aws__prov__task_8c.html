<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AWS Demo Kit: aws_demo_kit/src/aws_prov_task.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AWS Demo Kit
   &#160;<span id="projectnumber">1.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_7a695e9520f20ecf5b1bc1f877eb7dd2.html">aws_demo_kit</a></li><li class="navelem"><a class="el" href="dir_8350049628bdba08ab48d6c96b2f59e6.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">aws_prov_task.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>AWS IoT Demo kit.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;ctype.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;conf_usb.h&quot;</code><br />
<code>#include &quot;cryptoauthlib.h&quot;</code><br />
<code>#include &quot;tls/atcatls_cfg.h&quot;</code><br />
<code>#include &quot;<a class="el" href="aws__prov__task_8h_source.html">aws_prov_task.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="aws__kit__object_8h_source.html">aws_kit_object.h</a>&quot;</code><br />
<code>#include &quot;cert_def_1_signer.h&quot;</code><br />
<code>#include &quot;cert_def_2_device.h&quot;</code><br />
</div>
<p><a href="aws__prov__task_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga3546da761c6b6fd401e33250d03eb7af"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#ga3546da761c6b6fd401e33250d03eb7af">aws_prov_get_rx_buffer</a> (void)</td></tr>
<tr class="memdesc:ga3546da761c6b6fd401e33250d03eb7af"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the pointer of USB RX buffer.  <a href="group___provisioning.html#ga3546da761c6b6fd401e33250d03eb7af">More...</a><br /></td></tr>
<tr class="separator:ga3546da761c6b6fd401e33250d03eb7af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga075adc21129a67780ff403016c9d17b1"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#ga075adc21129a67780ff403016c9d17b1">aws_prov_get_tx_buffer</a> (void)</td></tr>
<tr class="memdesc:ga075adc21129a67780ff403016c9d17b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the pointer of USB TX buffer.  <a href="group___provisioning.html#ga075adc21129a67780ff403016c9d17b1">More...</a><br /></td></tr>
<tr class="separator:ga075adc21129a67780ff403016c9d17b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa135f1129e8c81b81bcc9c78c38c6e3a"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#gaa135f1129e8c81b81bcc9c78c38c6e3a">aws_prov_convert_nibble_to_ascii</a> (uint8_t nibble)</td></tr>
<tr class="memdesc:gaa135f1129e8c81b81bcc9c78c38c6e3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function converts a nibble to Hex-ASCII.  <a href="group___provisioning.html#gaa135f1129e8c81b81bcc9c78c38c6e3a">More...</a><br /></td></tr>
<tr class="separator:gaa135f1129e8c81b81bcc9c78c38c6e3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga99cb6603dd6738bbe658da7f8abf7a47"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#ga99cb6603dd6738bbe658da7f8abf7a47">aws_prov_convert_ascii_to_nibble</a> (uint8_t ascii)</td></tr>
<tr class="memdesc:ga99cb6603dd6738bbe658da7f8abf7a47"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function converts an ASCII character to a nibble.  <a href="group___provisioning.html#ga99cb6603dd6738bbe658da7f8abf7a47">More...</a><br /></td></tr>
<tr class="separator:ga99cb6603dd6738bbe658da7f8abf7a47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf99e1155c0687c6a3b7a9caf3643fc92"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#gaf99e1155c0687c6a3b7a9caf3643fc92">aws_prov_convert_ascii_to_binary</a> (uint16_t length, uint8_t *buffer)</td></tr>
<tr class="memdesc:gaf99e1155c0687c6a3b7a9caf3643fc92"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function converts ASCII to binary.  <a href="group___provisioning.html#gaf99e1155c0687c6a3b7a9caf3643fc92">More...</a><br /></td></tr>
<tr class="separator:gaf99e1155c0687c6a3b7a9caf3643fc92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaba0e329173a0b219e3a9a8c9428cf840"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdevice__info__t.html">device_info_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#gaba0e329173a0b219e3a9a8c9428cf840">aws_prov_get_device_info</a> (uint8_t index)</td></tr>
<tr class="memdesc:gaba0e329173a0b219e3a9a8c9428cf840"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return pointer of device_info with specified index.  <a href="group___provisioning.html#gaba0e329173a0b219e3a9a8c9428cf840">More...</a><br /></td></tr>
<tr class="separator:gaba0e329173a0b219e3a9a8c9428cf840"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga47a19de5314e66c0b4126547f8c2ea0a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___provisioning.html#ga958ad2fb75613e456cd1fe0e3e579322">device_type_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#ga47a19de5314e66c0b4126547f8c2ea0a">aws_prov_get_device_type</a> (uint8_t index)</td></tr>
<tr class="memdesc:ga47a19de5314e66c0b4126547f8c2ea0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return type of device with specified index.  <a href="group___provisioning.html#ga47a19de5314e66c0b4126547f8c2ea0a">More...</a><br /></td></tr>
<tr class="separator:ga47a19de5314e66c0b4126547f8c2ea0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b36515f9c958056999c8add3b4fa9a8"><td class="memItemLeft" align="right" valign="top">ATCA_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#ga2b36515f9c958056999c8add3b4fa9a8">aws_prov_detect_I2c_devices</a> (void)</td></tr>
<tr class="memdesc:ga2b36515f9c958056999c8add3b4fa9a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize CryptoAuthLib to detect ATECC508A.  <a href="group___provisioning.html#ga2b36515f9c958056999c8add3b4fa9a8">More...</a><br /></td></tr>
<tr class="separator:ga2b36515f9c958056999c8add3b4fa9a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1c1edeb91926af80d44faf16025dd666"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___provisioning.html#ga9e328c282feba867a7c586970bcf7d20">interface_id_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#ga1c1edeb91926af80d44faf16025dd666">aws_prov_discover_devices</a> (void)</td></tr>
<tr class="memdesc:ga1c1edeb91926af80d44faf16025dd666"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to find Crypto Authentication devices(only ATECC508A, except for ATSHA204A and ATAES132A). For the AWS Kit firmware, Don't care SHA204 and AES128. ATECC508A should be configured in advance using a configuration utility. In addition to it, ATECC508A should be set I2C address to 0xB0 for AWS Kit firmware.  <a href="group___provisioning.html#ga1c1edeb91926af80d44faf16025dd666">More...</a><br /></td></tr>
<tr class="separator:ga1c1edeb91926af80d44faf16025dd666"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa0d753fa7a8ac0ca8f11045978e46a93"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#gaa0d753fa7a8ac0ca8f11045978e46a93">aws_prov_parse_board_commands</a> (uint16_t commandLength, uint8_t *command, uint16_t *responseLength, uint8_t *response, uint8_t *responseIsAscii)</td></tr>
<tr class="memdesc:gaa0d753fa7a8ac0ca8f11045978e46a93"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function parses kit commands (ASCII) received from a PC host and returns an ASCII response.  <a href="group___provisioning.html#gaa0d753fa7a8ac0ca8f11045978e46a93">More...</a><br /></td></tr>
<tr class="separator:gaa0d753fa7a8ac0ca8f11045978e46a93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga27dc50bc2464bf80b79333ba55279fbd"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#ga27dc50bc2464bf80b79333ba55279fbd">aws_prov_get_commands_info</a> (uint8_t *tx_buffer, uint8_t *cmd_index, uint16_t *rx_length)</td></tr>
<tr class="memdesc:ga27dc50bc2464bf80b79333ba55279fbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Give index of command and response length based on received command.  <a href="group___provisioning.html#ga27dc50bc2464bf80b79333ba55279fbd">More...</a><br /></td></tr>
<tr class="separator:ga27dc50bc2464bf80b79333ba55279fbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga37c1c36dfc5ab34731a593e0dda3eec0"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#ga37c1c36dfc5ab34731a593e0dda3eec0">aws_prov_send_and_receive</a> (uint8_t *tx_buffer, uint8_t *rx_buffer)</td></tr>
<tr class="memdesc:ga37c1c36dfc5ab34731a593e0dda3eec0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a command array, and then receive a result from ATECC508A.  <a href="group___provisioning.html#ga37c1c36dfc5ab34731a593e0dda3eec0">More...</a><br /></td></tr>
<tr class="separator:ga37c1c36dfc5ab34731a593e0dda3eec0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga47d834fec854ae3b2767698b757b3c1d"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#ga47d834fec854ae3b2767698b757b3c1d">aws_prov_send_command</a> (uint8_t *tx_buffer)</td></tr>
<tr class="memdesc:ga47d834fec854ae3b2767698b757b3c1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a command array to ATECC508A over I2C.  <a href="group___provisioning.html#ga47d834fec854ae3b2767698b757b3c1d">More...</a><br /></td></tr>
<tr class="separator:ga47d834fec854ae3b2767698b757b3c1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga023c34e0b89273b0603f2fd17dd9e3a6"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#ga023c34e0b89273b0603f2fd17dd9e3a6">aws_prov_receive_response</a> (uint8_t size, uint8_t *rx_buffer)</td></tr>
<tr class="memdesc:ga023c34e0b89273b0603f2fd17dd9e3a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Only receive a command array.  <a href="group___provisioning.html#ga023c34e0b89273b0603f2fd17dd9e3a6">More...</a><br /></td></tr>
<tr class="separator:ga023c34e0b89273b0603f2fd17dd9e3a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga936673275288e466ba20799594b02c2e"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#ga936673275288e466ba20799594b02c2e">aws_prov_parse_ecc_commands</a> (uint16_t commandLength, uint8_t *command, uint16_t *responseLength, uint8_t *response)</td></tr>
<tr class="memdesc:ga936673275288e466ba20799594b02c2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function parses communication commands (ASCII) received from a PC host and returns a binary response.  <a href="group___provisioning.html#ga936673275288e466ba20799594b02c2e">More...</a><br /></td></tr>
<tr class="separator:ga936673275288e466ba20799594b02c2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga077382474e13efd7c47e01566b157cce"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#ga077382474e13efd7c47e01566b157cce">aws_prov_extract_data_load</a> (const char *command, uint16_t *dataLength, uint8_t **data)</td></tr>
<tr class="memdesc:ga077382474e13efd7c47e01566b157cce"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function extracts data from a command string and converts them to binary. * The data load is expected to be in Hex-Ascii and surrounded by parentheses.  <a href="group___provisioning.html#ga077382474e13efd7c47e01566b157cce">More...</a><br /></td></tr>
<tr class="separator:ga077382474e13efd7c47e01566b157cce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6bb0b8a827cf92da12f39a1384bde5c2"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#ga6bb0b8a827cf92da12f39a1384bde5c2">aws_prov_extract_data_load_tokens</a> (const char *command, uint16_t *dataLength, uint8_t **data, uint8_t start_token, uint8_t end_token)</td></tr>
<tr class="memdesc:ga6bb0b8a827cf92da12f39a1384bde5c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract valid data between start and end token from a entire command string. Convert it ASCII to binary.  <a href="group___provisioning.html#ga6bb0b8a827cf92da12f39a1384bde5c2">More...</a><br /></td></tr>
<tr class="separator:ga6bb0b8a827cf92da12f39a1384bde5c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga16d48378e817c3cc8b1df2c43e26cd23"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#ga16d48378e817c3cc8b1df2c43e26cd23">aws_prov_create_usb_packet</a> (uint16_t length, uint8_t *buffer)</td></tr>
<tr class="memdesc:ga16d48378e817c3cc8b1df2c43e26cd23"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function converts binary response data to hex-ascii and packs it into a protocol response. &lt;status byte&gt;=""&gt; &lt;'('&gt; &lt;hex-ascii data&gt; &lt;')'&gt; &lt;'<br />
'&gt;  <a href="group___provisioning.html#ga16d48378e817c3cc8b1df2c43e26cd23">More...</a><br /></td></tr>
<tr class="separator:ga16d48378e817c3cc8b1df2c43e26cd23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6af5cd19e967f65eec375d472015fc6f"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#ga6af5cd19e967f65eec375d472015fc6f">aws_prov_convert_data</a> (uint16_t length, uint8_t *buffer)</td></tr>
<tr class="memdesc:ga6af5cd19e967f65eec375d472015fc6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function converts binary data to Hex-ASCII.  <a href="group___provisioning.html#ga6af5cd19e967f65eec375d472015fc6f">More...</a><br /></td></tr>
<tr class="separator:ga6af5cd19e967f65eec375d472015fc6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa7a2a4540fa5ad48bf7cdb7597fc780f"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#gaa7a2a4540fa5ad48bf7cdb7597fc780f">aws_prov_process_usb_packet</a> (uint16_t rx_length, uint16_t *txLength)</td></tr>
<tr class="memdesc:gaa7a2a4540fa5ad48bf7cdb7597fc780f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interpret Rx packet, and then execute received command.  <a href="group___provisioning.html#gaa7a2a4540fa5ad48bf7cdb7597fc780f">More...</a><br /></td></tr>
<tr class="separator:gaa7a2a4540fa5ad48bf7cdb7597fc780f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9d118b481cabbace233780ed0d97a80b"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#ga9d118b481cabbace233780ed0d97a80b">aws_prov_save_root_public_key</a> (char *command, uint8_t *response, uint16_t *response_length)</td></tr>
<tr class="memdesc:ga9d118b481cabbace233780ed0d97a80b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the Root CA public key to the slot 0x0B of ATECC508A. (Not used.)  <a href="group___provisioning.html#ga9d118b481cabbace233780ed0d97a80b">More...</a><br /></td></tr>
<tr class="separator:ga9d118b481cabbace233780ed0d97a80b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac0bcc9c8c4cc319af03bcd36af3dbb5"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#gaac0bcc9c8c4cc319af03bcd36af3dbb5">aws_prov_get_root_public_key</a> (uint8_t *response, uint16_t *response_length)</td></tr>
<tr class="memdesc:gaac0bcc9c8c4cc319af03bcd36af3dbb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the Root CA public key from the slot 0x0E of ATECC508A.  <a href="group___provisioning.html#gaac0bcc9c8c4cc319af03bcd36af3dbb5">More...</a><br /></td></tr>
<tr class="separator:gaac0bcc9c8c4cc319af03bcd36af3dbb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab8bbd995c74c9f137a9012571cfc35e7"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#gab8bbd995c74c9f137a9012571cfc35e7">aws_prov_save_signer_public_key</a> (uint8_t *public_key)</td></tr>
<tr class="memdesc:gab8bbd995c74c9f137a9012571cfc35e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the Signer public key to the slot 0x0B of ATECC508A. (Not used.)  <a href="group___provisioning.html#gab8bbd995c74c9f137a9012571cfc35e7">More...</a><br /></td></tr>
<tr class="separator:gab8bbd995c74c9f137a9012571cfc35e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1e5dd4177592bd918b38c8103e9b7383"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#ga1e5dd4177592bd918b38c8103e9b7383">aws_prov_get_signer_public_key</a> (uint8_t *public_key)</td></tr>
<tr class="memdesc:ga1e5dd4177592bd918b38c8103e9b7383"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the Signer public key from the slot 0x0B of ATECC508A.  <a href="group___provisioning.html#ga1e5dd4177592bd918b38c8103e9b7383">More...</a><br /></td></tr>
<tr class="separator:ga1e5dd4177592bd918b38c8103e9b7383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13295e6ccaadcd0a9c4563e103b74fab"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__prov__task_8c.html#a13295e6ccaadcd0a9c4563e103b74fab">aws_prov_build_tbs_cert_digest</a> (const atcacert_def_t *cert_def, uint8_t *cert, size_t *cert_size, const uint8_t ca_public_key[64], const uint8_t public_key[64], const uint8_t signer_id[2], const atcacert_tm_utc_t *issue_date, const uint8_t config32[32], uint8_t *tbs_digest)</td></tr>
<tr class="memdesc:a13295e6ccaadcd0a9c4563e103b74fab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Except for the Device signature, build the Device certificate, and then compute it using SHA256 to create a digest to be signed by the Signer.  <a href="#a13295e6ccaadcd0a9c4563e103b74fab">More...</a><br /></td></tr>
<tr class="separator:a13295e6ccaadcd0a9c4563e103b74fab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga78fada88aff287a305fef78393ec29a0"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#ga78fada88aff287a305fef78393ec29a0">aws_prov_build_and_save_cert</a> (uint8_t *signature, uint8_t cert_id)</td></tr>
<tr class="memdesc:ga78fada88aff287a305fef78393ec29a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write compressed certificate and signagure into specified slot. Stored certificate would be used for the purpose of rebuilding to pass it to TLS library.  <a href="group___provisioning.html#ga78fada88aff287a305fef78393ec29a0">More...</a><br /></td></tr>
<tr class="separator:ga78fada88aff287a305fef78393ec29a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaccb9052775c4594175df7d6160902d09"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#gaccb9052775c4594175df7d6160902d09">aws_prov_write_user_data</a> (uint8_t offset, uint8_t *data, uint32_t len)</td></tr>
<tr class="memdesc:gaccb9052775c4594175df7d6160902d09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store WIFI credential, Host address and Thing name into slot 8 of ATECC508A.  <a href="group___provisioning.html#gaccb9052775c4594175df7d6160902d09">More...</a><br /></td></tr>
<tr class="separator:gaccb9052775c4594175df7d6160902d09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gada63b76382937319711f95669ddb29c2"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#gada63b76382937319711f95669ddb29c2">aws_prov_sign_digest</a> (char *command, uint8_t *response, uint16_t *response_length)</td></tr>
<tr class="memdesc:gada63b76382937319711f95669ddb29c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sign the device signature, if self-signed signature would be supported In current, Chain of trust is only supported for AWS Kit firmware. (Not used.)  <a href="group___provisioning.html#gada63b76382937319711f95669ddb29c2">More...</a><br /></td></tr>
<tr class="separator:gada63b76382937319711f95669ddb29c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8719a5a012581565711ceb86af4a91b2"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#ga8719a5a012581565711ceb86af4a91b2">aws_prov_save_host_thing</a> (char *command, uint8_t *response, uint16_t *response_length)</td></tr>
<tr class="memdesc:ga8719a5a012581565711ceb86af4a91b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save Host address and Thing name for MQTT communication with AWS IoT. Host address depending on AWS account is passed by Insight GUI. Thing name will be typed by a user from Insight GUI.  <a href="group___provisioning.html#ga8719a5a012581565711ceb86af4a91b2">More...</a><br /></td></tr>
<tr class="separator:ga8719a5a012581565711ceb86af4a91b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f9c943866451dd51cc0ee87906b27f6"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#ga4f9c943866451dd51cc0ee87906b27f6">aws_prov_save_wifi_credential</a> (char *command, uint8_t *response, uint16_t *response_length)</td></tr>
<tr class="memdesc:ga4f9c943866451dd51cc0ee87906b27f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save WIFI credential, for ATWINC1500 to access to WIFI router. this credential is saved into slot 8 of ATECC508A. Insight GUI will pass them typed by a user.  <a href="group___provisioning.html#ga4f9c943866451dd51cc0ee87906b27f6">More...</a><br /></td></tr>
<tr class="separator:ga4f9c943866451dd51cc0ee87906b27f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2eded9ada831924601a699055f60fae8"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#ga2eded9ada831924601a699055f60fae8">aws_prov_save_cert</a> (char *command, uint8_t *response, uint16_t *response_length)</td></tr>
<tr class="memdesc:ga2eded9ada831924601a699055f60fae8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save the certificate to slot specified by certificate definition. Both Signer and Device certificates will be passed to TLS library for session establishment.  <a href="group___provisioning.html#ga2eded9ada831924601a699055f60fae8">More...</a><br /></td></tr>
<tr class="separator:ga2eded9ada831924601a699055f60fae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae34db639dbcfa6581656096af110c26c"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#gae34db639dbcfa6581656096af110c26c">aws_prov_save_signature</a> (char *command, uint8_t *response, uint16_t *response_length)</td></tr>
<tr class="memdesc:gae34db639dbcfa6581656096af110c26c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save the signature for the Signer or Device certificate. The signature will be added to the certificate that was used to generate TBS for Device. Then stored appropriately for reconstruction.  <a href="group___provisioning.html#gae34db639dbcfa6581656096af110c26c">More...</a><br /></td></tr>
<tr class="separator:gae34db639dbcfa6581656096af110c26c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4e02bec0009101aa22c497270dbaa18a"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#ga4e02bec0009101aa22c497270dbaa18a">aws_prov_get_public_key</a> (char *command, uint8_t *response, uint16_t *response_length)</td></tr>
<tr class="memdesc:ga4e02bec0009101aa22c497270dbaa18a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read Device public key associated with the private key of slot 0. The signature will be added to the certificate that was used to generate TBS for Device.  <a href="group___provisioning.html#ga4e02bec0009101aa22c497270dbaa18a">More...</a><br /></td></tr>
<tr class="separator:ga4e02bec0009101aa22c497270dbaa18a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga86e60849256ca622eed569054f0e04ef"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#ga86e60849256ca622eed569054f0e04ef">aws_prov_get_cert</a> (char *command, uint8_t *response, uint16_t *response_length)</td></tr>
<tr class="memdesc:ga86e60849256ca622eed569054f0e04ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save the signature for a certificate. The signature will be added to the certificate that was used to generate TBS signature for Device.  <a href="group___provisioning.html#ga86e60849256ca622eed569054f0e04ef">More...</a><br /></td></tr>
<tr class="separator:ga86e60849256ca622eed569054f0e04ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga746b8206f0aea46fa771f21177d4ed67"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#ga746b8206f0aea46fa771f21177d4ed67">aws_prov_build_device_tbs</a> (char *command, uint8_t *tbs_digest, uint16_t *tbs_size)</td></tr>
<tr class="memdesc:ga746b8206f0aea46fa771f21177d4ed67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build 32 bytes hash of TBS portion of the certificate. These 32 bytes digest can be signed by Signer(PKI parent).  <a href="group___provisioning.html#ga746b8206f0aea46fa771f21177d4ed67">More...</a><br /></td></tr>
<tr class="separator:ga746b8206f0aea46fa771f21177d4ed67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3ff0423951be3a986dd6721bca6dce3f"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#ga3ff0423951be3a986dd6721bca6dce3f">aws_prov_parse_aws_commands</a> (uint16_t commandLength, uint8_t *command, uint16_t *responseLength, uint8_t *response)</td></tr>
<tr class="memdesc:ga3ff0423951be3a986dd6721bca6dce3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function parses communication commands received from Insight GUI in the context of an AWS application. aws: Indicates that this is a command for the AWS Starter Kit. The second parameter indicates the command to be executed.  <a href="group___provisioning.html#ga3ff0423951be3a986dd6721bca6dce3f">More...</a><br /></td></tr>
<tr class="separator:ga3ff0423951be3a986dd6721bca6dce3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac79045881f28804617c86c62b5845d9e"><td class="memItemLeft" align="right" valign="top">
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#gac79045881f28804617c86c62b5845d9e">aws_prov_handler</a> (void)</td></tr>
<tr class="memdesc:gac79045881f28804617c86c62b5845d9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">USB packet handler is to receive AWS Kit commands, and send a result back over CDC interface. For the device provisioning and certificate registration, Insight GUI will be sending AWS Kit commands. <br /></td></tr>
<tr class="separator:gac79045881f28804617c86c62b5845d9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf05bb501c721e93b63b5d71a9a90400b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___provisioning.html#gaf05bb501c721e93b63b5d71a9a90400b">aws_prov_task</a> (void *params)</td></tr>
<tr class="memdesc:gaf05bb501c721e93b63b5d71a9a90400b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provisioning task runs in the background to parse &amp; execute USB kit extension commands come from Insight GUI. Typically the kit protocol has been defined to primarily pass commands, parameters and data through to various crypto security devices. The complexity of these commands are at a higher level and therefore the AWS commands will trigger a subroutine made up of device level kit protocol commands.  <a href="group___provisioning.html#gaf05bb501c721e93b63b5d71a9a90400b">More...</a><br /></td></tr>
<tr class="separator:gaf05bb501c721e93b63b5d71a9a90400b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a54dbddcc5a07fce016e791cc2232e5a8"><td class="memItemLeft" align="right" valign="top">const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__prov__task_8c.html#a54dbddcc5a07fce016e791cc2232e5a8">VersionKit</a> [] = {1, 0, 6}</td></tr>
<tr class="memdesc:a54dbddcc5a07fce016e791cc2232e5a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">version of development kit firmware that contains AES132 and SHA204 library.  <a href="#a54dbddcc5a07fce016e791cc2232e5a8">More...</a><br /></td></tr>
<tr class="separator:a54dbddcc5a07fce016e791cc2232e5a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4768d73797065fc623e392054ff778e1"><td class="memItemLeft" align="right" valign="top"><a id="a4768d73797065fc623e392054ff778e1"></a>
const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__prov__task_8c.html#a4768d73797065fc623e392054ff778e1">VersionSha204</a> [] = {1, 3, 0}</td></tr>
<tr class="memdesc:a4768d73797065fc623e392054ff778e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">SHA204 version. <br /></td></tr>
<tr class="separator:a4768d73797065fc623e392054ff778e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f0a264c1b104158a13d7c4b055c307a"><td class="memItemLeft" align="right" valign="top"><a id="a9f0a264c1b104158a13d7c4b055c307a"></a>
const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__prov__task_8c.html#a9f0a264c1b104158a13d7c4b055c307a">VersionAes132</a> [] = {1, 1, 0}</td></tr>
<tr class="memdesc:a9f0a264c1b104158a13d7c4b055c307a"><td class="mdescLeft">&#160;</td><td class="mdescRight">AES132 version. <br /></td></tr>
<tr class="separator:a9f0a264c1b104158a13d7c4b055c307a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1f65c5d66f410fbf506d24463dadd10"><td class="memItemLeft" align="right" valign="top"><a id="ac1f65c5d66f410fbf506d24463dadd10"></a>
const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__prov__task_8c.html#ac1f65c5d66f410fbf506d24463dadd10">VersionEcc508</a> [] = {1, 1, 0}</td></tr>
<tr class="memdesc:ac1f65c5d66f410fbf506d24463dadd10"><td class="mdescLeft">&#160;</td><td class="mdescRight">ECC108 string. <br /></td></tr>
<tr class="separator:ac1f65c5d66f410fbf506d24463dadd10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88a21795ad3c7c89c7539dc89bdad739"><td class="memItemLeft" align="right" valign="top"><a id="a88a21795ad3c7c89c7539dc89bdad739"></a>
const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__prov__task_8c.html#a88a21795ad3c7c89c7539dc89bdad739">StringSha204</a> [] = &quot;SHA204 &quot;</td></tr>
<tr class="memdesc:a88a21795ad3c7c89c7539dc89bdad739"><td class="mdescLeft">&#160;</td><td class="mdescRight">SHA204 string. <br /></td></tr>
<tr class="separator:a88a21795ad3c7c89c7539dc89bdad739"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0db23dfe3ffb9434bf9f070c21fe606"><td class="memItemLeft" align="right" valign="top"><a id="ae0db23dfe3ffb9434bf9f070c21fe606"></a>
const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__prov__task_8c.html#ae0db23dfe3ffb9434bf9f070c21fe606">StringAes132</a> [] = &quot;AES132 &quot;</td></tr>
<tr class="memdesc:ae0db23dfe3ffb9434bf9f070c21fe606"><td class="mdescLeft">&#160;</td><td class="mdescRight">AES132 string. <br /></td></tr>
<tr class="separator:ae0db23dfe3ffb9434bf9f070c21fe606"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1453385ed5d0438c77af5c84e0424ffb"><td class="memItemLeft" align="right" valign="top"><a id="a1453385ed5d0438c77af5c84e0424ffb"></a>
const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__prov__task_8c.html#a1453385ed5d0438c77af5c84e0424ffb">StringEcc508</a> [] = &quot;ECC108 &quot;</td></tr>
<tr class="memdesc:a1453385ed5d0438c77af5c84e0424ffb"><td class="mdescLeft">&#160;</td><td class="mdescRight">ECC108 string. <br /></td></tr>
<tr class="separator:a1453385ed5d0438c77af5c84e0424ffb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f00b3f181684a384e6c3aedff57b479"><td class="memItemLeft" align="right" valign="top"><a id="a6f00b3f181684a384e6c3aedff57b479"></a>
const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__prov__task_8c.html#a6f00b3f181684a384e6c3aedff57b479">StringKitShort</a> [] = &quot;CK590 &quot;</td></tr>
<tr class="memdesc:a6f00b3f181684a384e6c3aedff57b479"><td class="mdescLeft">&#160;</td><td class="mdescRight">short string of Microbase kit <br /></td></tr>
<tr class="separator:a6f00b3f181684a384e6c3aedff57b479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9393e2224562d58f1f60aa384e8b079c"><td class="memItemLeft" align="right" valign="top"><a id="a9393e2224562d58f1f60aa384e8b079c"></a>
const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__prov__task_8c.html#a9393e2224562d58f1f60aa384e8b079c">StringKit</a> [] = &quot;ATSAMG55 &quot;</td></tr>
<tr class="memdesc:a9393e2224562d58f1f60aa384e8b079c"><td class="mdescLeft">&#160;</td><td class="mdescRight">long string of Microbase kit <br /></td></tr>
<tr class="separator:a9393e2224562d58f1f60aa384e8b079c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e105a47140f552c6d4e95e126799263"><td class="memItemLeft" align="right" valign="top"><a id="a4e105a47140f552c6d4e95e126799263"></a>
<a class="el" href="structdevice__info__t.html">device_info_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__prov__task_8c.html#a4e105a47140f552c6d4e95e126799263">device_info</a> [DISCOVER_DEVICE_COUNT_MAX]</td></tr>
<tr class="memdesc:a4e105a47140f552c6d4e95e126799263"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information of Crypto Authentication device. <br /></td></tr>
<tr class="separator:a4e105a47140f552c6d4e95e126799263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b79e486e4e9408b32c4b452c0ebd093"><td class="memItemLeft" align="right" valign="top"><a id="a5b79e486e4e9408b32c4b452c0ebd093"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="aws__prov__task_8c.html#a5b79e486e4e9408b32c4b452c0ebd093">device_count</a> = 0</td></tr>
<tr class="memdesc:a5b79e486e4e9408b32c4b452c0ebd093"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of Crypto Authentication device. <br /></td></tr>
<tr class="separator:a5b79e486e4e9408b32c4b452c0ebd093"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>AWS IoT Demo kit. </p>
<p>Copyright (C) 2014-2016 Atmel Corporation. All rights reserved.</p>

<p>Definition in file <a class="el" href="aws__prov__task_8c_source.html">aws_prov_task.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a13295e6ccaadcd0a9c4563e103b74fab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13295e6ccaadcd0a9c4563e103b74fab">&sect;&nbsp;</a></span>aws_prov_build_tbs_cert_digest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t aws_prov_build_tbs_cert_digest </td>
          <td>(</td>
          <td class="paramtype">const atcacert_def_t *&#160;</td>
          <td class="paramname"><em>cert_def</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>cert</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>cert_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>ca_public_key</em>[64], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>public_key</em>[64], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>signer_id</em>[2], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const atcacert_tm_utc_t *&#160;</td>
          <td class="paramname"><em>issue_date</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>config32</em>[32], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>tbs_digest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Except for the Device signature, build the Device certificate, and then compute it using SHA256 to create a digest to be signed by the Signer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cert_def</td><td>The Device certificate definition to be built </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cert</td><td>The Device certificate buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cert_size</td><td>Size of cert buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ca_public_key</td><td>Parent public key to create Auth Key ID </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">public_key</td><td>Own public key to set in the Device certificate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">signer_id</td><td>Set the signer ID in the issuer field of the Device certificate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">issue_date</td><td>Validity between Not Before and Not After in the Device certificate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">config32</td><td>Device information came from configuration zone in ATECC508A </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">tbs_digest</td><td>Digest of the Device to be signed by the Signer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ATCACERT_E_SUCCESS On success </dd></dl>

<p>Definition at line <a class="el" href="aws__prov__task_8c_source.html#l01150">1150</a> of file <a class="el" href="aws__prov__task_8c_source.html">aws_prov_task.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a54dbddcc5a07fce016e791cc2232e5a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54dbddcc5a07fce016e791cc2232e5a8">&sect;&nbsp;</a></span>VersionKit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char VersionKit[] = {1, 0, 6}</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>version of development kit firmware that contains AES132 and SHA204 library. </p>
<p>AWS kit version </p>

<p>Definition at line <a class="el" href="aws__prov__task_8c_source.html#l00057">57</a> of file <a class="el" href="aws__prov__task_8c_source.html">aws_prov_task.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.12
</small></address>
</body>
</html>
